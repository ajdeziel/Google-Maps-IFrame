<!DOCTYPE HTML>
<html lang="en">

  <head>
    <meta charset="UTF-8">

    <style>
		html, body {
		  height: 100%;
		  margin: 0;
		  padding: 0;
		}
      #map {
        height: 100%;
        width: 100%;
       }
		#content-window {
		  position: absolute;
		  top: 375px;
		  left: 0%;
		  z-index: 99;
		  background-color: #fff;
		  padding-right: 0px;
		  border: 0px solid #999;
		  text-align: center;
		  font-family: 'Roboto','sans-serif';
		  line-height: 0px;
		  padding-left: 0px;
		}
    </style>
  </head>

  <body>
    <div id="map"></div>
	  <div id="content-window"></div>
      <script>
        function initMap() {
          var victoria = {lat: 48.463131, lng: -123.312527};
		  var minZoomLevel = 15	;
          var map = new google.maps.Map(document.getElementById('map'), {
			mapTypeControl: false,
            zoom: minZoomLevel,
			center: new google.maps.LatLng(48.463131, -123.312527),//this is where we center on startup
			styles: [
    			{
   					featureType: "poi",
       				elementType: "labels",
        			stylers: [
             	 		{ visibility: "off" }
        			]
    		 
     			},{
   		 			featureType: "transit",
       			 	elementType: "labels",
        			stylers: [
              			{ visibility: "off" }
        			]
    		 
     			}
    		]		
          });
		
		var marker = new google.maps.Marker({
    		position: victoria,
			icon: 'ICONS/cafeG.png',
    		map: map,
    		title: 'test',
			image: 'IMAGES/newOne.png'
 		 });
		
		google.maps.event.addListener(marker, 'click',function(){
			var pic = this.image;
			console.log("pass4");
			showInContentWindow(pic);
			
		});
		function showInContentWindow(pic){
			var graphicBar = document.getElementById('content-window');
			graphicBar.innerHTML = "<img src="+pic+">";
		}
		google.maps.event.addListener(map, 'dblclick', function () {
			var graphicBar = document.getElementById('content-window');
			graphicBar.innerHTML = "";
		});
			
			
			var strictBounds = new google.maps.LatLngBounds(
			new google.maps.LatLng(48.432511, -123.339477),
			new google.maps.LatLng(48.472620, -123.303400));
 

			 // Listen for the dragend event
 			google.maps.event.addListener(map, 'dragend', function () {
				 if (strictBounds.contains(map.getCenter())) return;

				 var c = map.getCenter(),
					 x = c.lng(),
					 y = c.lat(),
					 maxX = strictBounds.getNorthEast().lng(),
					 maxY = strictBounds.getNorthEast().lat(),
					 minX = strictBounds.getSouthWest().lng(),
					 minY = strictBounds.getSouthWest().lat();

				 if (x < minX) x = minX;
				 if (x > maxX) x = maxX;
				 if (y < minY) y = minY;
				 if (y > maxY) y = maxY;

			 	 map.setCenter(new google.maps.LatLng(y, x));
			 });

			 // Limit the zoom level
			 google.maps.event.addListener(map, 'zoom_changed', function () {
				 if (map.getZoom() < minZoomLevel) map.setZoom(minZoomLevel);
			 });
        }
      </script>

      <script async defer
        src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDV1MhOhCENuMr_zaic5Iz4amK3I6GBXt0&callback=initMap">
      </script>
    </body>
</html>
